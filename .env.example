# Database
POSTGRES_VERSION=16-alpine
POSTGRES_USER=audio_user
POSTGRES_PASSWORD=audio_pass
POSTGRES_DB=audio_db
POSTGRES_PORT=5432
DATABASE_URL=postgresql://audio_user:audio_pass@localhost:5432/audio_db

# RabbitMQ
RABBITMQ_VERSION=3.13-management
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=admin123
# Format: amqp://user:password@host:port/vhost hoáº·c amqps://user:password@host:port/vhost
RABBITMQ_URL=

# Redis
REDIS_VERSION=7-alpine
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379

# S3 Storage (MinIO)
MINIO_VERSION=latest
MINIO_MC_VERSION=latest
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
S3_BUCKET_NAME=cmdn-audio-transcription
S3_REGION=ap-southeast-1
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin123
S3_ENDPOINT_URL=http://localhost:9000

# Auth0
AUTH0_AUDIENCE=https://cmdn-dev.jp.auth0.com/api/v2/
AUTH0_ISSUER_BASE_URL=https://cmdn-dev.jp.auth0.com/

# Server
API_GATEWAY_PORT=8000
UVICORN_HOST=0.0.0.0
UVICORN_PORT=8000

# Logging
LOG_LEVEL=INFO
DEBUG=false

# SQLAlchemy
SQLA_ECHO=true
SQLA_POOL_SIZE=5
SQLA_MAX_OVERFLOW=10

# Audio Processing
UPLOAD_DIR=./transcribe-service/uploads
CHUNK_DURATION_SECONDS=600  # 30 minutes

# Transcription Provider (mlx, gpu, or litellm)
TRANSCRIPTION_PROVIDER=mlx

# Whisper Settings (for MLX and GPU providers)
WHISPER_MODEL_SIZE=large-v3      # tiny, base, small, medium, large-v2, large-v3
WHISPER_DEVICE=cpu               # cpu, cuda, or auto
WHISPER_COMPUTE_TYPE=int8        # GPU: float16, int8_float16, int8 | CPU: int8, float32

# Worker - Optimized for connection count
CELERY_AUTOSCALE=4,1
CELERY_PREFETCH_MULTIPLIER=1
CELERY_MAX_TASKS_PER_CHILD=100

# Summarization
SUMMARY_CHUNK_SIZE=1000000
MAX_RETRIES=3
RETRY_DELAY=1.0

# Docker
DOCKER_PLATFORM=linux/amd64
RESTART_POLICY=unless-stopped

# LLM Config (LiteLLM Proxy)
LLM_API_KEY=sk-1234567890abcdef
LLM_BASE_URL=http://localhost:4000
LLM_MODEL=best-model
LLM_MAX_TOKENS=8192
LLM_TEMPERATURE=0.7
LITELLM_MODEL_TRANSCRIBE=whisper

# Legacy (kept for reference)
# GOOGLE_API_KEY=your_google_api_key_here
